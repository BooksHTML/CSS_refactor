<!DOCTYPE html>
<!--**************************************-->
<!--*    Generated from PreTeXt source   *-->
<!--*    on 2017-12-13T12:11:05-05:00    *-->
<!--*                                    *-->
<!--*   http://mathbook.pugetsound.edu   *-->
<!--*                                    *-->
<!--**************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SA Mathematics</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/javascript" src="https://sagecell.sagemath.org/static/jquery.min.js"></script><script type="text/javascript" src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']],
    },
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://aimath.org/mathbook/mathjaxknowl.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
/* support for the sfrac command in MathJax (Beveled fraction) */
/* see: https://github.com/mathjax/MathJax-docs/wiki/Beveled-fraction-like-sfrac,-nicefrac-bfrac */
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  var MML = MathJax.ElementJax.mml,
      TEX = MathJax.InputJax.TeX;
  TEX.Definitions.macros.sfrac = "myBevelFraction";
  TEX.Parse.Augment({
    myBevelFraction: function (name) {
      var num = this.ParseArg(name),
          den = this.ParseArg(name);
      this.Push(MML.mfrac(num,den).With({bevelled: true}));
    }
  });
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML-full"></script><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script><script>(function() {
  var cx = '008832104071767086392:j6aknlqevbm';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
</script><link href="https://aimath.org/knowlstyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://aimath.org/knowl.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.sticky.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.espy.min.js"></script><script src="https://aimath.org/mathbook/js/Mathbook.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraph.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraphcore.js"></script><link href="../../css/refactor-3.css" rel="stylesheet" type="text/css">
<link href="../../css/refactor-add-on.css" rel="stylesheet" type="text/css">
                     <link href="../../css/new_a.css" rel="stylesheet" type="text/css">
                     <link href="../../css/new_b.css" rel="stylesheet" type="text/css">
                     <link href="../../css/new_c.css" rel="stylesheet" type="text/css">
                     <link href="../../css/new_d.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="http://pythontutor.com/build/pytutor-embed.bundle.js?cc25af72af" charset="utf-8"></script>
</head>
<body class="mathbook-article has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div class="hidden-content">\(\require{cancel}\newcommand{\definiteintegral}[4]{\int_{#1}^{#2}\,#3\,d#4} 
\newcommand{\myequation}[2]{#1\amp =#2} 
\newcommand{\indefiniteintegral}[2]{\int#1\,d#2}
\newcommand{\testingescapedpercent}{ \% } 
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<div class="searchwrapper"><div class="gcse-search"></div></div>
<a id="logo-link" href="http://mathbook.pugetsound.edu" target="_blank"><img src="images/book-cover-google-art-project.jpg" alt="Logo image for document"></a><div class="title-container">
<h1 class="heading"><a href="derivatives.html"><span class="title">Derivatives and Integrals</span><span class="subtitle">An Annotated Discourse</span></a></h1>
<p class="byline">Robert Beezer</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar" style=""><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index" alt="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="section-6.html" title="Previous" alt="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="derivatives.html" title="Up" alt="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="section-8.html" title="Next" alt="Next">Next</a></span>
</div>
<button class="sidebar-right-toggle-button button active">Annotations</button>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="section-6.html" title="Previous" alt="Previous">Prev</a><a class="up-button button toolbar-item" href="derivatives.html" title="Up" alt="Up">Up</a><a class="next-button button toolbar-item" href="section-8.html" title="Next" alt="Next">Next</a>
</div>
</div></nav></header><div class="page">
<aside id="sidebar-left" class="sidebar"><div class="sidebar-content">
<nav id="toc"><h2 class="link"><a href="index.html" data-scroll="index"><span class="title">Front Matter</span></a></h2>
<h2 class="link"><a href="section-1.html" data-scroll="section-1"><span class="codenumber">1</span><span class="title">Introduction</span></a></h2>
<h2 class="link"><a href="section-fundamental-theorem.html" data-scroll="section-fundamental-theorem"><span class="codenumber">2</span><span class="title">The Fundamental Theorem</span></a></h2>
<h2 class="link"><a href="section-sage-cells.html" data-scroll="section-sage-cells"><span class="codenumber">3</span><span class="title">Computing Integrals with Sage (\(\int\))</span></a></h2>
<h2 class="link"><a href="interesting-corollary.html" data-scroll="interesting-corollary"><span class="codenumber">4</span><span class="title">An Interesting Corollary</span></a></h2>
<ul>
<li><a href="interesting-corollary.html#subsection-1" data-scroll="subsection-1">Second Version of <abbr class="acronym">FTC</abbr></a></li>
<li><a href="interesting-corollary.html#subsection-2" data-scroll="subsection-2">A Pedagogical Note</a></li>
<li><a href="interesting-corollary.html#subsection-3" data-scroll="subsection-3">Theorem-Like Environments</a></li>
<li><a href="interesting-corollary.html#subsection-4" data-scroll="subsection-4">Linking Sage Cells</a></li>
<li><a href="interesting-corollary.html#subsection-5" data-scroll="subsection-5">Hierarchy</a></li>
<li><a href="interesting-corollary.html#subsection-intro-conclude" data-scroll="subsection-intro-conclude">Introductions and Conclusions</a></li>
<li><a href="interesting-corollary.html#subsection-paragraph-markup" data-scroll="subsection-paragraph-markup">Some Paragraph-Level Markup</a></li>
</ul>
<h2 class="link"><a href="section-5.html" data-scroll="section-5"><span class="codenumber">5</span><span class="title">Some Facts and Figures</span></a></h2>
<h2 class="link"><a href="section-6.html" data-scroll="section-6"><span class="codenumber">6</span><span class="title">Some Advanced Ideas</span></a></h2>
<h2 class="link active"><a href="section-7.html" data-scroll="section-7"><span class="codenumber">7</span><span class="title">Mathematics</span></a></h2>
<ul>
<li><a href="section-7.html#subsection-8" data-scroll="subsection-8">Basic Mathematics</a></li>
<li><a href="section-7.html#subsection-9" data-scroll="subsection-9">Displayed Mathematics</a></li>
<li><a href="section-7.html#subsection-10" data-scroll="subsection-10"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Packages and MathJax Extensions</a></li>
<li><a href="section-7.html#subsection-11" data-scroll="subsection-11">Advanced Mathematics</a></li>
<li><a href="section-7.html#subsection-12" data-scroll="subsection-12">Local Tags on Equations</a></li>
</ul>
<h2 class="link"><a href="section-8.html" data-scroll="section-8"><span class="codenumber">8</span><span class="title">Special, Reserved, and Escape Characters</span></a></h2>
<ul>
<li><a href="section-8.html#subsection-reserved-characters" data-scroll="subsection-reserved-characters">Reserved Characters</a></li>
<li><a href="section-8.html#subsection-14" data-scroll="subsection-14">Pseudo-Characters and Constructions</a></li>
<li><a href="section-8.html#section-urls" data-scroll="section-urls">URLs</a></li>
<li><a href="section-8.html#subsection-16" data-scroll="subsection-16">Quotations</a></li>
<li><a href="section-8.html#subsection-17" data-scroll="subsection-17">Groupings</a></li>
<li><a href="section-8.html#subsection-18" data-scroll="subsection-18">Biological Names</a></li>
<li><a href="section-8.html#subsection-19" data-scroll="subsection-19">Verbatim in titles, <tt class="code-inline tex2jax_ignore">\a&amp;b#c%d~e{f}g$h_i^j</tt>, OK</a></li>
</ul>
<h2 class="link"><a href="graphics.html" data-scroll="graphics"><span class="codenumber">9</span><span class="title">Graphics</span></a></h2>
<ul>
<li><a href="graphics.html#subsection-20" data-scroll="subsection-20"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> images</a></li>
<li><a href="graphics.html#subsection-21" data-scroll="subsection-21">Placing Images without a Caption</a></li>
<li><a href="graphics.html#subsection-22" data-scroll="subsection-22">Asymptote</a></li>
<li><a href="graphics.html#subsection-23" data-scroll="subsection-23">Sage Plots</a></li>
<li><a href="graphics.html#subsection-24" data-scroll="subsection-24">Images from External Sources</a></li>
<li><a href="graphics.html#subsection-25" data-scroll="subsection-25">Copies of Images</a></li>
<li><a href="graphics.html#subsection-26" data-scroll="subsection-26">Technical Details</a></li>
<li><a href="graphics.html#subsection-27" data-scroll="subsection-27">Caption Testing</a></li>
</ul>
<h2 class="link"><a href="section-10.html" data-scroll="section-10"><span class="codenumber">10</span><span class="title">Demonstrations</span></a></h2>
<h2 class="link"><a href="section-11.html" data-scroll="section-11"><span class="codenumber">11</span><span class="title">Further Reading</span></a></h2>
<ul>
<li><a href="section-11.html#subsection-28" data-scroll="subsection-28">Specialized Subdivisions</a></li>
<li><a href="section-11.html#references-1" data-scroll="references-1">References</a></li>
<li><a href="section-11.html#exercises-2" data-scroll="exercises-2">Exercises</a></li>
<li><a href="section-11.html#exercises-3" data-scroll="exercises-3">More Exercises</a></li>
</ul>
<h2 class="link"><a href="section-12.html" data-scroll="section-12"><span class="codenumber">12</span><span class="title">List Calisthenics</span></a></h2>
<ul>
<li><a href="section-12.html#subsection-29" data-scroll="subsection-29">Lists, Generally</a></li>
<li><a href="section-12.html#subsection-30" data-scroll="subsection-30">List Spacing, I</a></li>
<li><a href="section-12.html#subsection-31" data-scroll="subsection-31">List Spacing, II</a></li>
<li><a href="section-12.html#exercises-4" data-scroll="exercises-4">Exercises (with lists)</a></li>
<li><a href="section-12.html#subsection-32" data-scroll="subsection-32">Description Lists</a></li>
<li><a href="section-12.html#subsection-33" data-scroll="subsection-33">Named Lists</a></li>
<li><a href="section-12.html#subsection-34" data-scroll="subsection-34">Testing List Decompositions</a></li>
<li><a href="section-12.html#references-2" data-scroll="references-2">References (with lists in Annotations)</a></li>
</ul>
<h2 class="link"><a href="section-13.html" data-scroll="section-13"><span class="codenumber">13</span><span class="title">Table Calisthenics</span></a></h2>
<h2 class="link"><a href="section-14.html" data-scroll="section-14"><span class="codenumber">14</span><span class="title">Embedded Interactive Elements</span></a></h2>
<ul>
<li><a href="section-14.html#subsection-35" data-scroll="subsection-35">GeoGebra</a></li>
<li><a href="section-14.html#subsection-36" data-scroll="subsection-36">JSXGraph</a></li>
</ul>
<h2 class="link"><a href="section-video.html" data-scroll="section-video"><span class="codenumber">15</span><span class="title">Video</span></a></h2>
<h2 class="link"><a href="exercises.html" data-scroll="exercises"><span class="codenumber">16</span><span class="title">Exercises</span></a></h2>
<h2 class="link"><a href="section-cross-referencing.html" data-scroll="section-cross-referencing"><span class="codenumber">17</span><span class="title">Cross-Referencing</span></a></h2>
<h2 class="link"><a href="section-internationalization.html" data-scroll="section-internationalization"><span class="codenumber">18</span><span class="title">Internationalization</span></a></h2>
<h2 class="link"><a href="section-18.html" data-scroll="section-18"><span class="codenumber">19</span><span class="title">Pre-Formatted Text</span></a></h2>
<h2 class="link"><a href="section-programs.html" data-scroll="section-programs"><span class="codenumber">20</span><span class="title">Program Listings</span></a></h2>
<h2 class="link"><a href="section-20.html" data-scroll="section-20"><span class="codenumber">21</span><span class="title">Units of Measure</span></a></h2>
<h2 class="link"><a href="section-side-by-side.html" data-scroll="section-side-by-side"><span class="codenumber">22</span><span class="title">Side-By-Side Panels</span></a></h2>
<ul>
<li><a href="section-side-by-side.html#subsection-37" data-scroll="subsection-37">Figures with Numbers Side-By-Side</a></li>
<li><a href="section-side-by-side.html#subsection-38" data-scroll="subsection-38">Images</a></li>
<li><a href="section-side-by-side.html#subsection-39" data-scroll="subsection-39">Common Side-By-Side Constructions</a></li>
<li><a href="section-side-by-side.html#subsection-40" data-scroll="subsection-40">A Single Captionless Image</a></li>
<li><a href="section-side-by-side.html#subsection-41" data-scroll="subsection-41">Vertical Alignment</a></li>
<li><a href="section-side-by-side.html#subsection-42" data-scroll="subsection-42">Text Next to Text and Images</a></li>
<li><a href="section-side-by-side.html#subsection-43" data-scroll="subsection-43">Image Formats, Side-by-Sides</a></li>
<li><a href="section-side-by-side.html#subsection-44" data-scroll="subsection-44">Tables Side-By-Side</a></li>
<li><a href="section-side-by-side.html#subsection-45" data-scroll="subsection-45">Tables Next to Figures</a></li>
<li><a href="section-side-by-side.html#subsection-46" data-scroll="subsection-46">Tables Next to Text</a></li>
<li><a href="section-side-by-side.html#subsection-47" data-scroll="subsection-47">Tabular Next to Each Other</a></li>
<li><a href="section-side-by-side.html#subsection-48" data-scroll="subsection-48">Lists in Side-by-Sides</a></li>
<li><a href="section-side-by-side.html#subsection-sbs-other-panels" data-scroll="subsection-sbs-other-panels">Other Panels</a></li>
<li><a href="section-side-by-side.html#subsection-50" data-scroll="subsection-50">Poems as Side-By-Side Panels</a></li>
<li><a href="section-side-by-side.html#subsection-sbsgroup" data-scroll="subsection-sbsgroup">Side-By-Side Groups</a></li>
<li><a href="section-side-by-side.html#subsection-52" data-scroll="subsection-52">Testing Styling of Related Elements</a></li>
</ul>
<h2 class="link"><a href="section-22.html" data-scroll="section-22"><span class="codenumber">23</span><span class="title">Side-by-Side Gallery</span></a></h2>
<h2 class="link"><a href="poetry.html" data-scroll="poetry"><span class="codenumber">24</span><span class="title">Poetry</span></a></h2>
<h2 class="link"><a href="advanced-numbering.html" data-scroll="advanced-numbering"><span class="codenumber">25</span><span class="title">Advanced Numbering</span></a></h2>
<ul>
<li><a href="advanced-numbering.html#subsection-53" data-scroll="subsection-53">One</a></li>
<li><a href="advanced-numbering.html#subsection-54" data-scroll="subsection-54">Two</a></li>
<li><a href="advanced-numbering.html#subsection-55" data-scroll="subsection-55">Three</a></li>
<li><a href="advanced-numbering.html#subsection-56" data-scroll="subsection-56">Four</a></li>
<li><a href="advanced-numbering.html#subsection-57" data-scroll="subsection-57">Five</a></li>
<li><a href="advanced-numbering.html#subsection-local-theorems" data-scroll="subsection-local-theorems">Theorems in This Section</a></li>
<li><a href="advanced-numbering.html#subsection-59" data-scroll="subsection-59">A Title with ] a Right Bracket</a></li>
</ul>
<h2 class="link"><a href="section-25.html" data-scroll="section-25"><span class="codenumber">26</span><span class="title">Customizations</span></a></h2>
<ul><li><a href="section-25.html#rename-facility" data-scroll="rename-facility">Renaming Document Parts</a></li></ul>
<h2 class="link"><a href="backmatter.html" data-scroll="backmatter"><span class="title">Reference</span></a></h2>
<ul>
<li><a href="appendix-1.html" data-scroll="appendix-1">Notation</a></li>
<li><a href="appendix-2.html" data-scroll="appendix-2">Solutions to Selected Exercises</a></li>
<li><a href="appendix-results.html" data-scroll="appendix-results">List of Results</a></li>
<li><a href="appendix-4.html" data-scroll="appendix-4">Index</a></li>
<li><a href="references-3.html" data-scroll="references-3">References</a></li>
<li><a href="index-1.html" data-scroll="index-1">Index</a></li>
<li><a href="colophon-1.html" data-scroll="colophon-1">Colophon</a></li>
</ul></nav><div class="extras"><nav><a class="feedback-link" href="not-implemented.html" target="_blank">Feedback</a><a class="mathbook-link" href="https://mathbook.pugetsound.edu">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" border="0" alt="Powered by MathJax"></a></nav></div>
</div></aside><main class="main"><div id="content" class="mathbook-content"><section class="section" id="section-7"><h2 class="heading hide-type" alt="Section 7 Mathematics">
<span class="type">Section</span><span class="codenumber">7</span><span class="title">Mathematics</span>
</h2><section class="introduction" id="introduction-7"><p id="p-173">To be able to create both <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> and HTML output (plus variations), we rely on MathJax, which in turn supports an extensive subset of the mathematical symbols normally available.  The AMSMath symbol set is a good approximation.  For a complete list, see the <a class="external-url" href="http://docs.mathjax.org/en/latest/tex.html#supported-latex-commands" target="_blank">MathJax Supported LaTeX commands</a>.  We load the <tt class="code-inline tex2jax_ignore">AMSsymbols</tt> library and the library for extensible arrows, <tt class="code-inline tex2jax_ignore">extpfeil</tt>.</p></section><section class="subsection" id="subsection-8"><h3 class="heading hide-type" alt="Subsection 7.1 Basic Mathematics">
<span class="type">Subsection</span><span class="codenumber">7.1</span><span class="title">Basic Mathematics</span>
</h3><p id="p-174">The following is from the MathJax <a class="external-url" href="http://www.mathjax.org/demos/tex-samples/" target="_blank">demonstration page</a>, an identity due to Ramanujan:</p>
\begin{equation*}
\frac{1}{\Bigl(\sqrt{\phi \sqrt{5}}-\phi\Bigr) e^{\frac25 \pi}} = 1+\frac{e^{-2\pi}} {1+\frac{e^{-4\pi}} {1+\frac{e^{-6\pi}} {1+\frac{e^{-8\pi}} {1+\ldots} } } }
\end{equation*}
<p id="p-175">And again, from the MathJax demonstration page, Maxwell's equations:</p>
\begin{align*}
\nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp; = \frac{4\pi}{c}\vec{\mathbf{j}}\\
\nabla \cdot \vec{\mathbf{E}} &amp; = 4 \pi \rho\\
\nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp; = \vec{\mathbf{0}}\\
\nabla \cdot \vec{\mathbf{B}} &amp; = 0
\end{align*}
<p id="p-176">A small test that the extensible arrows library is included properly:</p>
\begin{equation*}
A\xmapsto[\text{bijection}]{\Phi+\Psi+\Theta}B
\end{equation*}
<p id="p-177">Look back at the top of the source file of this document to see how to include your <span class="latex-logo">T<span class="E">e</span>X</span> macros just once.  For best results keep your macros simple and semantic.</p>
<p id="p-178">Chris Hughes has made available “slanted”, or “beveled”, or “nice” fractions.  To wit, we mean fractions such as: \(\sfrac{3}{8}\text{.}\)  Use the built-in <tt class="code-inline tex2jax_ignore">\sfrac{}{}</tt> macro in your mathematics to achieve this presentation.</p>
<p id="p-179">We consider a system of equations.  We number the first and last equation (there are just two) and include an <tt class="code-inline tex2jax_ignore">xml:id</tt> on each.  We reference the whole system later as the range of equations from the first to the last.</p>
\begin{align}
\frac{dx}{dt} \amp = x^2 - 4x - y + 4\label{equation-system-begin}\tag{7.1}\\
\frac{dy}{dt} \amp = x^3 - y.\label{equation-system-end}\tag{7.2}
\end{align}
</section><section class="subsection" id="subsection-9"><h3 class="heading hide-type" alt="Subsection 7.2 Displayed Mathematics">
<span class="type">Subsection</span><span class="codenumber">7.2</span><span class="title">Displayed Mathematics</span>
</h3><p id="p-180">Multi-line displays of mathematics are achieved with the <tt class="code-inline tex2jax_ignore">md</tt> tag (“math display”), and the variant that produces numbers on each line, <tt class="code-inline tex2jax_ignore">mdn</tt> (“math display numbered”), used within a paragraph (<tt class="code-inline tex2jax_ignore">p</tt>).  As a good example of how XML syntax is superior, you author \(n\) lines of equations by enclosing each line inside of a <tt class="code-inline tex2jax_ignore">mrow</tt> tag, rather than using \(n-1\) separators (such as <tt class="code-inline tex2jax_ignore">\\</tt>).</p>
<p id="p-181">If you use no ampersands to express alignment (read ahead), then each equation is centered independently on the width of the text.  This is implemented according to the AMSmath <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> package's <tt class="code-inline tex2jax_ignore">gather</tt> environment.  Example:</p>
\begin{gather*}
\frac{dx}{dt} = x^2 - 4x - y + 4\\
\frac{dy}{dt} = x^3 - y.
\end{gather*}
<p id="p-182">An ampersand is used, in two ways, to describe positioning several equations per line, organized in columns.  We suggest in <a href="section-8.html#subsection-reserved-characters" alt="Subsection 8.1 Reserved Characters" title="Subsection 8.1 Reserved Characters">Subsection 8.1</a> that the pre-defined <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macro <tt class="code-inline tex2jax_ignore">\amp</tt> is the safest way to specify these.  The second, fourth, sixth, … ampersands separate columns, and the spacing between columns will be provided automatically.  The first, third, fifth, … ampersands are alignment points for the equations in each column.  Typically this is placed just prior to a binary operator, such as an equal sign (<tt class="code-inline tex2jax_ignore">\amp = </tt>), or for a column of explanations or commentary, just prior to the <tt class="code-inline tex2jax_ignore">\text{}</tt> macro.  Note that this scenario suggests always having an odd number of amersands in each <tt class="code-inline tex2jax_ignore">mrow</tt>.  In the example below, alignment is on the equals sign in the first two columns, and provides left-justification to the explanations in the third column.  N.B.: the use below of the <tt class="code-inline tex2jax_ignore">\text{}</tt> macro does not include mathematics within its argument.  Doing so may yield unpredictable results depending on your choice of delimiters for the mathematics (and using an <tt class="code-inline tex2jax_ignore">m</tt> tag will be ineffective).</p>
\begin{align*}
\frac{dx}{dt} \amp = x^2 - 4x - y + 4 \amp \frac{dy}{dt} \amp = x^3 - y          \amp\amp x, y\text{ version}\\
\frac{dw}{dt} \amp = z^3 - w          \amp \frac{dz}{dt} \amp = z^2 - 4z - w + 4 \amp\amp z, w\text{ version}
\end{align*}
<p id="p-183">PreTeXt will automatically detect the presence or absence of ampersands, but by defining macros for entire aligned equations, you can effectively hide the ampersands.  So the <tt class="code-inline tex2jax_ignore">@alignment</tt> attribute can override automatic detection.  We use a simple <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macro to demonstrate setting <tt class="code-inline tex2jax_ignore">alignment='align'</tt> to override the use of a <tt class="code-inline tex2jax_ignore">gather</tt> environment and use a <tt class="code-inline tex2jax_ignore">align</tt> environment instead.  Example:</p>
\begin{align*}
\myequation{\frac{dx}{dt}}{x^2 - 4x - y + 4}\\
\myequation{\frac{dy}{dt}}{x^3 - y}.
\end{align*}
<p id="p-184">The AMSmath <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> package's <tt class="code-inline tex2jax_ignore">alignat</tt> environment is a third variant of alignment.  It never happens automatically, you need to ask for it with <tt class="code-inline tex2jax_ignore">alignment="alignat"</tt>.  It is very similar to <tt class="code-inline tex2jax_ignore">align</tt> but adds no space between the equation columns.  So you can leave it that way, or you can add your own “extra” space to suit.  Here is a previous example with no inter-column space:</p>
\begin{alignat*}{3}
\frac{dx}{dt} \amp = x^2 - 4x - y + 4 \amp \frac{dy}{dt} \amp = x^3 - y          \amp\amp x, y\text{ version}\\
\frac{dw}{dt} \amp = z^3 - w          \amp \frac{dz}{dt} \amp = z^2 - 4z - w + 4 \amp\amp z, w\text{ version}\text{.}
\end{alignat*}
<p>This modified example has a middle row with three columns, while the other rows have just one column, as a test of our routines for determining the <tt class="code-inline tex2jax_ignore">mrow</tt> with the greatest number of ampersands (and how many there are),</p>
\begin{alignat*}{3}
\frac{dw}{dt} &amp;= z^3 - w\\
\frac{dx}{dt} &amp;= x^2 - 4x - y + 4 &amp; \frac{dy}{dt} &amp;= x^3 - y&amp;&amp; x, y\text{ third column}\\
\frac{dw}{dt} &amp; = z^3 - w\text{.}
\end{alignat*}
<p>Final example demonstrates that ampersands in other objects (matrices here) can wreak havoc with computing the number of columns.  So we provide yet another attribute to override automatic detection, <tt class="code-inline tex2jax_ignore">alignat-columns</tt>.  This is the number of <em class="emphasis">columns</em> not the number of <em class="emphasis">ampersands</em>.  Generally, for \(c\) columns, there will be \(2c-1\) ampersands.</p>
\begin{alignat*}{2}
A &amp;= \begin{bmatrix}1 &amp; 2 \\ 3 &amp; 4\end{bmatrix}
&amp;
I &amp;= \begin{bmatrix}1 &amp; 0 \\ 0 &amp; 1\end{bmatrix}\text{.}
\end{alignat*}
<p>One caveat: if your number of ampersands is even (see advice above about using an odd number) behavior should still be correct, as in next example.</p>
<p id="p-185">If you want super-precise control over alignment of the terms of a system of equations (linear or not) you can use the <tt class="code-inline tex2jax_ignore">alignat</tt> option to advantage by not including any extra space.  This example is modified slightly from a post by Alex Jordan:</p>
\begin{alignat*}{4}
2x \amp {}+{} \amp  y \amp {}+{} \amp 3z \amp {}={} \amp 10\\
x  \amp       \amp    \amp {}+{} \amp  z \amp {}={} \amp 6\\
x  \amp {}+{} \amp 3y \amp {}+{} \amp 2z \amp {}={} \amp 13.
\end{alignat*}
<p>Beautiful.</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-3" id="example-3"><article class="example-like"><h6 class="heading">
<span class="type">Example</span><span class="codenumber">7.1</span><span class="title">Excessive Display Mathematics</span>
</h6></article></a></div>
<div id="hk-example-3" class="hidden-content tex2jax_ignore"><article class="example-like"><p id="p-186">In print versions, a long run of displayed equations often needs to be broken across pages.  If you are reading some other version of this, then there is nothing to see here.  But for <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output it could be interesting.  First, with no extra effort, this page-long display should break naturally, no matter how the preceding material changes.</p>
\begin{gather*}
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\\
x^2+y^2=z^2\\
a^2+b^2=c^2\\
\alpha^2+\beta^2=\gamma^2\\
m^2+n^2=p^2\text{.}
\end{gather*}
<p id="p-187">In this version we have turned off page breaking for the entire display, but then allowed a break at every fourth equation, so you should see a reasonably attractive page break right after one of the \(m^2+n^2=p^2\) equations.</p>
\begin{gather}
x^2+y^2=z^2\tag{7.3}\\
a^2+b^2=c^2\tag{7.4}\\
\alpha^2+\beta^2=\gamma^2\tag{7.5}\\
m^2+n^2=p^2\tag{7.6}\\
x^2+y^2=z^2\tag{7.7}\\
a^2+b^2=c^2\tag{7.8}\\
\alpha^2+\beta^2=\gamma^2\tag{7.9}\\
m^2+n^2=p^2\tag{7.10}\\
x^2+y^2=z^2\tag{7.11}\\
a^2+b^2=c^2\tag{7.12}\\
\alpha^2+\beta^2=\gamma^2\tag{7.13}\\
m^2+n^2=p^2\tag{7.14}\\
x^2+y^2=z^2\tag{7.15}\\
a^2+b^2=c^2\tag{7.16}\\
\alpha^2+\beta^2=\gamma^2\tag{7.17}\\
m^2+n^2=p^2\tag{7.18}\\
x^2+y^2=z^2\tag{7.19}\\
a^2+b^2=c^2\tag{7.20}\\
\alpha^2+\beta^2=\gamma^2\tag{7.21}\\
m^2+n^2=p^2\tag{7.22}\\
x^2+y^2=z^2\tag{7.23}\\
a^2+b^2=c^2\tag{7.24}\\
\alpha^2+\beta^2=\gamma^2\tag{7.25}\\
m^2+n^2=p^2\tag{7.26}\\
x^2+y^2=z^2\tag{7.27}\\
a^2+b^2=c^2\tag{7.28}\\
\alpha^2+\beta^2=\gamma^2\tag{7.29}\\
m^2+n^2=p^2\tag{7.30}\\
x^2+y^2=z^2\tag{7.31}\\
a^2+b^2=c^2\tag{7.32}\\
\alpha^2+\beta^2=\gamma^2\tag{7.33}\\
m^2+n^2=p^2\tag{7.34}\\
x^2+y^2=z^2\tag{7.35}\\
a^2+b^2=c^2\tag{7.36}\\
\alpha^2+\beta^2=\gamma^2\tag{7.37}\\
m^2+n^2=p^2\tag{7.38}\\
x^2+y^2=z^2\tag{7.39}\\
a^2+b^2=c^2\tag{7.40}\\
\alpha^2+\beta^2=\gamma^2\tag{7.41}\\
m^2+n^2=p^2\tag{7.42}\\
x^2+y^2=z^2\tag{7.43}\\
a^2+b^2=c^2\tag{7.44}\\
\alpha^2+\beta^2=\gamma^2\tag{7.45}\\
m^2+n^2=p^2\tag{7.46}\\
x^2+y^2=z^2\tag{7.47}\\
a^2+b^2=c^2\tag{7.48}\\
\alpha^2+\beta^2=\gamma^2\tag{7.49}\\
m^2+n^2=p^2\text{.}\tag{7.50}
\end{gather}
<p id="p-188">So.  Do not take any extra steps and let <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> figure out the breaks.  If you do not like a break, modify the <tt class="code-inline tex2jax_ignore">md</tt> or <tt class="code-inline tex2jax_ignore">mdn</tt> to go back to the AMSmath default behavior and not break at all.  Ever.  Or rather, go further and modify an individual <tt class="code-inline tex2jax_ignore">mrow</tt> to suggest that it is a good place for a break.</p></article></div>
<p id="p-189">This is a poorly-authored paragaph to test the conversion to <abbr class="initialism">HTML</abbr>.  There are two displayed equations, separated by a period ending the first one's sentence, which should migrate into the display, and not leave behind an empty paragraph:</p>
\begin{equation*}
z+y = z\text{.}
\end{equation*}

\begin{equation*}
a + b = c\text{.}
\end{equation*}
<p>This final sentence should remain, inside another <abbr class="initialism">HTML</abbr> paragraph, without the second equation's period.</p></section><section class="subsection" id="subsection-10"><h3 class="heading hide-type" alt="Subsection 7.3 LaTeX Packages and MathJax Extensions">
<span class="type">Subsection</span><span class="codenumber">7.3</span><span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Packages and MathJax Extensions</span>
</h3><p id="p-190">If you would like to use macros from a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> package <em class="emphasis">and</em> there is a MathJax extension <em class="emphasis">of the same name</em> which implements the same macros, then you may use these with your mathematics as we demonstrate here.</p>
<p id="p-191">This example is from Jason Underdown.  The package is named <tt class="code-inline tex2jax_ignore">cancel</tt> and is included in the TeXLive distribution, so is fairly standard.  The particular macro being demonstrated is <tt class="code-inline tex2jax_ignore">\cancelto{}{}</tt>.</p>
\begin{equation*}
\lim_{b \rightarrow \infty}\left[\cancelto{0}{-\frac{1}{s}e^{-sb}} + \frac{1}{s}\right]\text{.}
\end{equation*}
<p>Look at the source of this article to see the package name being supplied in a <tt class="code-inline tex2jax_ignore">latex-preamble/package</tt> element within the <tt class="code-inline tex2jax_ignore">docinfo</tt> section.  That is the only setup required to make the macro usable in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> and <abbr class="initialism">HTML</abbr> output.</p>
<p id="p-192">The packages appear before the author-supplied macros, so you can use macros from the packages as building blocks for document-specific macros.  We cannot guarantee there will be no conflicts between additional packages and those in use normally, or added in the future.  So use at your own risk.</p></section><section class="subsection" id="subsection-11"><h3 class="heading hide-type" alt="Subsection 7.4 Advanced Mathematics">
<span class="type">Subsection</span><span class="codenumber">7.4</span><span class="title">Advanced Mathematics</span>
</h3><p id="p-193">MathJax is extremely capable in rendering a subset of <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> in web browsers, and improving all the time.  You can get fairly fancy with some of its supported commands.  In particular, if you need to mix in a few words with your mathematics, the <tt class="code-inline tex2jax_ignore">\text{}</tt> macro is supported.  For example, you might use an “if” or an “otherwise” in the definition of a piecewise function.</p>
<p id="p-194">Consider that the first line below is text sandwiched in-between two Greek letters, wrapped in a <tt class="code-inline tex2jax_ignore">\text{}</tt> macro.  In HTML output we have taken care that the font for text material within display mathematics should match the font of the  surrounding paragraph, as also happens with <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output.  The second line is nearly identical in the source, but is just naked text being rendered like a slew of variables.</p>
\begin{gather*}
\alpha\text{ is not equal to }\beta\\
\alpha is not equal to \beta\\
\alpha\neq\beta\text{.}
\end{gather*}
<p>We are not suggesting here that using words in place of symbols, as in the first line, is a good practice.  (It is not.)</p>
<p id="p-195">The following example is a good stress-test of using the <tt class="code-inline tex2jax_ignore">\text{}</tt> macro to achieve certain effects.  Note the Unicode left and right smart quotes.  This a contribution from Alex Jordan as part of his work on <span class="booktitle">APEX Calculus</span>.</p>
\begin{gather*}
y \rightarrow \frac{\sin(0) }{0} \rightarrow {{\text{“}}\atop{}}\frac{0}{0}{{\text{”}}\atop{}}\text{.}
\end{gather*}
<p>And another one from Alex.  Note the use of the <tt class="code-inline tex2jax_ignore">\mathord{}</tt> and <tt class="code-inline tex2jax_ignore">\mathrel{}</tt> macros to control spacing around the mathematical symbols.  Examine the source to see how the quotation marks have been authored with <abbr class="initialism">XML</abbr> syntax for Unicode characters.</p>
\begin{gather*}
\zeta(1)=\sum_{n=1}^{\infty}\frac{1}{n}\mathrel{\text{ “}\mathord{=}{\text{” }}}\prod_{p}\left(\frac{1}{1-1/p}\right)=\prod_{p}\left(\frac{1}{1-p^{-1}}\right)
\end{gather*}
<p id="p-196">Generally, you cannot use any <abbr class="initialism">XML</abbr> elements inside of the mathematics elements.  An exception is the <tt class="code-inline tex2jax_ignore">xref</tt> element which you might want to use to provide justifications for the steps of a derivation.  Here is a visual example that is mathematically meaningless,</p>
\begin{align*}
A&amp;=B+C&amp;&amp;\knowl{./knowl/corollary-FTC-derivative.html}{\text{Corollary 4.1}}\\
&amp;=D+E&amp;&amp;\knowl{./knowl/theorem-FTC.html}{\text{The Fundamental Theorem of Calculus}}\text{.}
\end{align*}
</section><section class="subsection" id="subsection-12"><h3 class="heading hide-type" alt="Subsection 7.5 Local Tags on Equations">
<span class="type">Subsection</span><span class="codenumber">7.5</span><span class="title">Local Tags on Equations</span>
</h3><p id="p-197">If you are not writing a research monograph, maybe (a) you will not use many numbered equations, or do not like the looks of them, or feel they scare your readers, and (b) maybe your cross-references are always local-ish, like strictly within an <tt class="code-inline tex2jax_ignore">example</tt> or a <tt class="code-inline tex2jax_ignore">proof</tt>.  For this situation you can create, and employ, a “local” tag on a displayed equation.  Nothing enforces the idea of what constitutes local, and there is nothing to stop you from using the same symbols more than once.  With freedom comes responsibility.</p>
<p id="p-198">Use the <tt class="code-inline tex2jax_ignore">@tag</tt> attribute on an <tt class="code-inline tex2jax_ignore">mrow</tt>, only.  (Remember, you can have just one <tt class="code-inline tex2jax_ignore">mrow</tt>.)  The behavior is identical within an <tt class="code-inline tex2jax_ignore">md</tt> or <tt class="code-inline tex2jax_ignore">mdn</tt>.  The value of the <tt class="code-inline tex2jax_ignore">@tag</tt> attribute is a symbol name.  The prefix <tt class="code-inline tex2jax_ignore">d</tt> means “double”, and the prefix <tt class="code-inline tex2jax_ignore">t</tt> means “triple”.  So allowed values are</p>
<pre class="code-block tex2jax_ignore">star, dstar, tstar
dagger, ddagger, tdagger
hash, dhash, thash
maltese, dmaltese, tmaltese
</pre>
<p>Cross-references to these tagged equations happens in the usual way and should behave as expected.</p>
\begin{align}
c^2 \amp = a^2+b^2\label{equation-local-tag}\tag{\(\star\star\)}\\
z^2 \amp = x^2+y^2\tag{7.51}
\end{align}
<p>Here is a local cross-reference: <a knowl="./knowl/equation-local-tag.html" knowl-id="xref-equation-local-tag" alt="Equation  " title="Equation  ">(\(\star\star\))</a>.  We test another farther away in <a href="section-cross-referencing.html" alt="Section 17 Cross-Referencing" title="Section 17 Cross-Referencing">Section 17</a>, contrary to our advice above.</p></section></section></div></main>
</div>
<script type="text/javascript">createAllVisualizersFromHtmlAttrs();</script>
</body>
</html>
